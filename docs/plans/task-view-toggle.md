# 任务表 / 甘特图：视图切换方案（UI 设计说明）

目标：当任务表字段（列）变多、甘特时间轴变宽时，避免“表格 + 甘特”并排导致的挤压问题；新增「只看表格」与「只看甘特」两种展示方式，可来回切换；原有分屏能力保留。

## Pencil 设计稿

当前 Pencil 文档：`doc/design/pencil-new.pen`

- Split View（分屏）：`enwfY`
- Table Only（只看表格）：`IH4Ge`
- Gantt Only（只看甘特）：`uUvB7`
- Header 组件（复用）：`WHHy1`
- Toolbar 组件（复用，操作栏）：`RL1hq`

## 色调

- 主色已调整为“蓝青”（Primary `#0EA5E9`），其余保持灰阶克制，保证统一不花哨。

## 交互与布局要点（用于开发实现）

### 顶部视图切换

- 右侧 Segmented Control：`分屏 / 表格 / 甘特`
- 切换后只改变内容区展示方式；筛选、编辑、拖拽等“业务能力”保持一致（仅 UI 呈现变化）。

### 操作栏（Toolbar）

- 搜索：`搜索任务…`（占用主要宽度，融入现有圆角/边框风格）
- 关键操作：今天、字段（列）、编辑/批量、导出、更多、新建任务
- 设计策略：弱边框 + pill 圆角 + 轻量图标按钮，和当前 Header/卡片的灰阶体系一致

### 分屏（Split）

- 左：任务表（字段列可横向滚动）
- 右：甘特图（时间轴可横向滚动）
- 纵向滚动：建议两侧同步（同一个 scrollTop），保证行对齐
- 中间分隔线：可拖拽调整左右比例（视觉上用更粗的分隔条/手柄提示）

### 甘特视觉增强（保持克制）

- 行底色轻微斑马纹（提高可读性）
- Today 指示线 + “今天”小标（帮助定位当前日期）
- 任务条支持“进度填充”（底层为 Primary-soft，上层为 Primary）
- 支持里程碑菱形（示意）

### 只看表格（Table Only）

- 表格占满内容区宽度，支持横向滚动
- 可选增强：冻结前 N 列（设计稿用“冻结前 2 列”chip 提示）
- 甘特图隐藏（但不影响底层数据/状态）

### 只看甘特（Gantt Only）

- 时间轴占满内容区宽度，支持横向滚动
- 左侧仅保留“任务名（简）”列表，避免完整字段表占宽
- 可选增强：提供“展开字段”或“显示字段”入口（复用 Header 的“字段”按钮）
