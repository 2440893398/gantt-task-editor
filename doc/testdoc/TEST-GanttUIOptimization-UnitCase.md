
# 测试用例文档（Test Case Document）

## 1. 测试概述
- **测试对象**：甘特图UI优化与Excel导入导出功能
- **需求来源**：`doc/impl/IMPL_REPORT-甘特图UI优化与Bug修复-2026-01-14.md`, `doc/root/1.md`
- **测试目标**：验证UI交互符合预期，Excel导入导出功能在多语言环境下正常工作且格式正确。
- **测试范围**：缩放控件、工具栏布局、Excel导出格式（层级列、字段顺序、多语言）、Excel导入数据完整性（尤其跨语言）。

## 2. 测试环境
- **浏览器**：Chrome (Headless/GUI)
- **分辨率**：1920x1080
- **依赖条件**：本地启动的开发环境 (localhost:5273)

## 3. 测试用例

### 3.1 UI 功能测试 (UI Functional Tests)
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-UI-001 | 缩放控件交互方向验证 | 甘特图页面加载完成 | 1. 点击 "+" 按钮<br>2. 点击 "-" 按钮 | 1. 时间跨度变小 (Zoom In)<br>2. 时间跨度变大 (Zoom Out) <br>*(注：根据开发报告描述，+应为缩小时间跨度(放大视图)，-应为扩大时间跨度(缩小视图)，需确认反转逻辑是否符合此预期，通常 +是放大视图细节(Zoom In), -是缩小视图查看全局(Zoom Out))* <br>**修正确认**：报告中说 "+ 现在调用 zoomOut() 扩大时间跨度"，这意味着+号看更长的时间？这通常是反直觉的。PRD说是反直觉所以调整了。如果代码是 + -> zoomOut，那我们验证它是否真的扩大了时间范围。 | P1 |
| TC-UI-002 | 缩放视图下拉选择验证 | 甘特图页面加载完成 | 1. 点击缩放控件的下拉箭头<br>2. 选择不同的视图（如Day, Week, Month, Quarter, Year） | 1. 下拉菜单显示正确<br>2. 甘特图视图随选择切换 | P1 |
| TC-UI-003 | 今日按钮功能验证 | 甘特图页面加载完成 | 1. 滚动甘特图到其他日期<br>2. 点击工具栏右侧的"今日"按钮 | 1. 甘特图时间轴滚动回当前日期<br>2. "今日"按钮样式符合设计（蓝色渐变） | P2 |
| TC-UI-004 | 视图选择器移除验证 | 甘特图页面加载完成 | 1. 检查菜单栏/工具栏左侧 | 1. 不应存在旧的视图单选按钮组 | P2 |

### 3.2 Excel 导出测试 (Excel Export Tests)
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-EX-001 | 导出字段结构验证 (English) | 语言设置为 English，甘特图包含多层级任务 | 1. 点击导出 Excel 按钮<br>2. 用XLSX库解析下载的文件<br>3. 逐列验证表头名称 | 1. 第一列表头为 "Hierarchy"<br>2. 后续列依次为: Task Name, Start Date, Duration (days), Progress (%), Priority, Assignee, Status<br>3. 不包含 "Task ID", "Parent ID"<br>4. 层级编号格式正确 (1, 1.1, 1.1.1) | P0 |
| TC-EX-002 | 导出字段结构验证 (中文) | 语言设置为 zh-CN，甘特图包含多层级任务 | 1. 点击导出 Excel 按钮<br>2. 用XLSX库解析下载的文件<br>3. 逐列验证表头名称 | 1. 第一列表头为 "层级"<br>2. 后续列依次为: 任务名称, 开始时间, 工期(天), 进度(%), 优先级, 负责人, 状态<br>3. 枚举值使用本地化文本 (高/中/低) | P0 |
| TC-EX-003 | 导出数据值验证 | 准备特定测试数据：进度50%，优先级high，状态in_progress | 1. 设置语言为中文<br>2. 导出Excel<br>3. 解析并验证数据行 | 1. 进度列显示为数字50（非0.5）<br>2. 优先级列显示为"高"<br>3. 状态列显示为"进行中"<br>4. 日期格式为YYYY-MM-DD | P0 |
| TC-EX-004 | 导出层级关系验证 | 创建3层嵌套任务结构 | 1. 导出Excel<br>2. 检查层级编号列 | 1. 顶级任务编号为 1, 2, 3...<br>2. 二级任务编号为 1.1, 1.2...<br>3. 三级任务编号为 1.1.1, 1.1.2... | P0 |

### 3.3 Excel 导入测试 (Excel Import Tests)

#### 3.3.1 基础功能测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-IM-001 | 同语言往返导入 (Round Trip) | 英文环境，甘特图包含测试数据 | 1. 记录原始数据（任务名、日期、工期、进度、优先级）<br>2. 导出Excel<br>3. 清空甘特图<br>4. 导入刚导出的文件<br>5. **逐字段对比**原始数据与导入数据 | 1. 任务数量一致<br>2. 每个字段值**精确匹配**原始数据<br>3. 层级关系（parent）正确恢复 | P0 |
| TC-IM-002 | 跨语言导入 (中文 -> 英文) - 列名映射验证 | 1. 中文环境创建任务<br>2. 导出Excel（列名为中文） | 1. 切换到英文环境<br>2. 导入中文Excel文件<br>3. **关键验证**: 检查列名映射是否工作 | 1. 系统能识别中文列名"任务名称"并映射到text字段<br>2. 系统能识别"层级"并映射到hierarchy<br>3. 系统能识别"开始时间"并映射到start_date<br>4. 所有字段正确导入，无数据丢失 | P0 |
| TC-IM-003 | 跨语言导入数据完整性验证 | 中文环境创建：名称"测试任务α", 工期5天, 进度50%, 优先级"high", 状态"in_progress" | 1. 中文环境导出<br>2. 切换英文环境导入<br>3. **逐字段严格验证** | 1. text === "测试任务α" (特殊字符不丢失)<br>2. duration === 5<br>3. progress === 0.5<br>4. priority === "high" (内部值)<br>5. status === "in_progress" (内部值) | P0 |
| TC-IM-004 | 跨语言导入 (英文 -> 中文) | 英文环境创建任务并导出 | 1. 切换到中文环境<br>2. 导入英文Excel文件 | 1. 系统能识别英文列名"Task Name"并映射到text<br>2. 优先级"High"正确转换为内部值"high"<br>3. 所有字段正确导入 | P0 |
| TC-IM-005 | 层级结构完整性验证 | 准备3层嵌套任务：A(顶级) > B(子任务) > C(孙任务) | 1. 导出后导入<br>2. 验证parent关系 | 1. B.parent === A.id<br>2. C.parent === B.id<br>3. 甘特图中层级展示正确 | P0 |

#### 3.3.2 边界测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-IM-B01 | 空任务名称导入 | Excel文件中任务名称为空 | 导入文件 | 1. 任务导入成功<br>2. 空名称任务使用默认值"新任务" | P1 |
| TC-IM-B02 | 工期边界值 - 零 | Excel中工期字段值为0 | 导入文件 | 工期显示为1（最小值保护）或0（取决于业务规则） | P1 |
| TC-IM-B03 | 工期边界值 - 负数 | Excel中工期字段值为-5 | 导入文件 | 工期使用默认值1或报错提示 | P1 |
| TC-IM-B04 | 进度边界值 - 超出范围 | Excel中进度值为150 | 导入文件 | 进度被截断为100%或报错提示 | P1 |
| TC-IM-B05 | 进度边界值 - 负数 | Excel中进度值为-10 | 导入文件 | 进度被设为0%或报错提示 | P1 |
| TC-IM-B06 | 日期格式多样性 | Excel中日期格式为"2023/05/01", "May 1, 2023", Excel数字日期 | 导入文件 | 1. 标准格式(YYYY-MM-DD)正确解析<br>2. 其他格式尽可能兼容或给出提示 | P1 |
| TC-IM-B07 | 特殊字符任务名 | 任务名包含: <>&"'换行符制表符中文日文emoji🎯 | 导入后验证 | 所有特殊字符正确保留，无转义问题 | P1 |
| TC-IM-B08 | 超长任务名 | 任务名长度超过1000字符 | 导入文件 | 1. 能正常导入<br>2. 显示时可能截断但数据不丢失 | P2 |
| TC-IM-B09 | 大数据量导入 | Excel包含500条任务记录 | 导入文件 | 1. 所有记录正确导入<br>2. 性能可接受（<5秒） | P1 |
| TC-IM-B10 | 只有部分列 | Excel只包含：层级、任务名称（缺少其他列） | 导入文件 | 1. 导入成功<br>2. 缺失字段使用默认值<br>3. 工期默认1，进度默认0 | P1 |
| TC-IM-B11 | 包含未知列名 | Excel包含额外列"自定义字段X" | 导入文件 | 1. 已知列正确导入<br>2. 未知列被忽略，不报错 | P2 |

#### 3.3.3 异常测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-IM-E01 | 空Excel文件 | Excel文件只有空白页 | 导入文件 | 显示错误提示"Excel文件格式错误：没有数据行" | P0 |
| TC-IM-E02 | 只有表头无数据 | Excel只有第一行表头 | 导入文件 | 显示提示"没有有效的任务数据" | P0 |
| TC-IM-E03 | 缺少必要列(任务名称) | Excel没有任何可识别为"任务名称"的列 | 导入文件 | 显示错误提示'无法识别"任务名称"列' | P0 |
| TC-IM-E04 | 列名完全不匹配 | 所有列名使用随机文本(如col1, col2) | 导入文件 | 显示错误提示，无法导入 | P1 |
| TC-IM-E05 | 数据类型错误 - 工期非数字 | 工期列值为"五天" | 导入文件 | 1. 该行使用默认工期1<br>2. 或跳过该行并提示警告 | P1 |
| TC-IM-E06 | 损坏的Excel文件 | 二进制文件损坏 | 导入文件 | 显示错误提示"Excel导入失败" | P1 |
| TC-IM-E07 | 非Excel文件(伪装) | txt文件改扩展名为.xlsx | 导入文件 | 显示错误提示，不崩溃 | P1 |
| TC-IM-E08 | 优先级枚举值无效 | 优先级值为"紧急"(不在预设选项中) | 导入文件 | 1. 原值保留或<br>2. 使用默认值或<br>3. 给出提示 | P2 |

#### 3.3.4 枚举值本地化测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-IM-L01 | 中文枚举值导入 | Excel优先级值为"高"、"中"、"低" | 导入到英文环境 | 内部值分别为"high"、"medium"、"low" | P0 |
| TC-IM-L02 | 英文枚举值导入 | Excel优先级值为"High"、"Medium"、"Low" | 导入到中文环境 | 内部值分别为"high"、"medium"、"low" | P0 |
| TC-IM-L03 | 状态枚举值中文导入 | Excel状态值为"待开始"、"进行中"、"已完成" | 导入到英文环境 | 内部值分别为"pending"、"in_progress"、"completed" | P0 |
| TC-IM-L04 | 混合语言枚举值 | 同一文件中优先级既有"高"也有"Low" | 导入文件 | 两者都能正确映射为内部值 | P1 |

## 4. 测试数据

### 4.1 标准测试数据集
```javascript
// 用于往返导入验证的完整测试数据
const testDataSet = {
    data: [
        {
            id: 1,
            text: "项目A - Project Alpha",
            start_date: "2023-06-01",
            duration: 10,
            progress: 0.3,
            priority: "high",
            status: "in_progress",
            assignee: "张三",
            open: true
        },
        {
            id: 2,
            text: "子任务1 - Subtask",
            start_date: "2023-06-01",
            duration: 5,
            progress: 0.5,
            priority: "medium",
            status: "in_progress",
            parent: 1
        },
        {
            id: 3,
            text: "孙任务α🎯", // 包含特殊字符
            start_date: "2023-06-02",
            duration: 2,
            progress: 1.0, // 100%完成
            priority: "low",
            status: "completed",
            parent: 2
        },
        {
            id: 4,
            text: "独立任务",
            start_date: "2023-06-15",
            duration: 3,
            progress: 0,
            priority: "high",
            status: "pending"
        }
    ]
};
```

### 4.2 边界测试数据
- **空任务名**: `{ text: "", duration: 1 }`
- **零工期**: `{ text: "零工期任务", duration: 0 }`
- **负数工期**: `{ text: "负工期", duration: -5 }`
- **超范围进度**: `{ text: "超进度", progress: 1.5 }` (150%)
- **特殊字符**: `{ text: "Test<>&\"'\n\tテスト🚀" }`
- **超长名称**: 1000个字符的任务名

### 4.3 异常测试文件
- **空Excel**: 无任何内容的.xlsx文件
- **只有表头**: 只有第一行列名，无数据行
- **错误列名**: 使用col1, col2, col3作为列名
- **损坏文件**: 二进制损坏的.xlsx
- **伪装文件**: .txt改名为.xlsx

---

## 5. 多语言视觉一致性测试 (Multi-Language Visual Consistency Tests)

### 5.1 测试概述
本测试场景验证在四个语言环境（中文zh-CN、英文en-US、日文ja-JP、韩文ko-KR）下，任务数据导出再导入后，页面展示和渲染效果是否与导入前完全一致。

**测试目标**：
1. 验证各语言环境下列名本地化正确
2. 验证枚举值（优先级、状态）本地化显示正确
3. 验证导出-导入往返后数据完整性
4. 验证甘特图渲染效果（任务条位置、颜色、层级缩进）一致

### 5.2 语言环境配置
| 语言代码 | 语言名称 | 列名示例 | 优先级枚举 | 状态枚举 |
|:--------:|:--------:|:--------:|:----------:|:--------:|
| zh-CN | 简体中文 | 层级、任务名称、开始时间 | 高/中/低 | 待开始/进行中/已完成/已取消 |
| en-US | English | Hierarchy, Task Name, Start Date | High/Medium/Low | Pending/In Progress/Completed/Cancelled |
| ja-JP | 日本語 | 階層、タスク名、開始日 | 高/中/低 | 未着手/進行中/完了/キャンセル |
| ko-KR | 한국어 | 계층, 작업 이름, 시작일 | 높음/중간/낮음 | 대기중/진행중/완료/취소 |

### 5.3 测试用例

#### 5.3.1 单语言往返一致性测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-ML-001 | 中文环境往返一致性 | 语言设置为zh-CN | 1. 创建测试任务（包含各优先级和状态）<br>2. 截图记录页面渲染效果<br>3. 导出Excel<br>4. 清空甘特图<br>5. 导入Excel<br>6. 截图对比 | 1. Excel列名为中文<br>2. 枚举值为中文（高/中/低）<br>3. 导入后页面渲染与导出前一致<br>4. 任务条颜色、位置、层级缩进相同 | P0 |
| TC-ML-002 | 英文环境往返一致性 | 语言设置为en-US | 同TC-ML-001 | 1. Excel列名为英文<br>2. 枚举值为英文（High/Medium/Low）<br>3. 导入后页面渲染与导出前一致 | P0 |
| TC-ML-003 | 日文环境往返一致性 | 语言设置为ja-JP | 同TC-ML-001 | 1. Excel列名为日文（階層、タスク名等）<br>2. 枚举值为日文（高/中/低、未着手/進行中等）<br>3. 导入后页面渲染与导出前一致 | P0 |
| TC-ML-004 | 韩文环境往返一致性 | 语言设置为ko-KR | 同TC-ML-001 | 1. Excel列名为韩文（계층、작업 이름等）<br>2. 枚举值为韩文（높음/중간/낮음等）<br>3. 导入后页面渲染与导出前一致 | P0 |

#### 5.3.2 跨语言导入视觉一致性测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-ML-005 | 中文导出 → 英文导入 | 中文环境创建任务并导出 | 1. 中文环境截图<br>2. 切换英文环境<br>3. 导入中文Excel<br>4. 英文环境截图对比 | 1. 任务数据完整导入<br>2. 枚举值显示为英文（High等）<br>3. 任务条渲染位置一致<br>4. 层级关系正确 | P0 |
| TC-ML-006 | 中文导出 → 日文导入 | 中文环境创建任务并导出 | 同TC-ML-005，目标语言为日文 | 1. 枚举值显示为日文（高等）<br>2. 列名显示为日文<br>3. 渲染效果一致 | P0 |
| TC-ML-007 | 中文导出 → 韩文导入 | 中文环境创建任务并导出 | 同TC-ML-005，目标语言为韩文 | 1. 枚举值显示为韩文（높음等）<br>2. 列名显示为韩文<br>3. 渲染效果一致 | P0 |
| TC-ML-008 | 英文导出 → 中文导入 | 英文环境创建任务并导出 | 同TC-ML-005 | 1. 枚举值显示为中文<br>2. 渲染效果一致 | P0 |
| TC-ML-009 | 英文导出 → 日文导入 | 英文环境创建任务并导出 | 同TC-ML-005 | 1. 枚举值显示为日文<br>2. 渲染效果一致 | P0 |
| TC-ML-010 | 英文导出 → 韩文导入 | 英文环境创建任务并导出 | 同TC-ML-005 | 1. 枚举值显示为韩文<br>2. 渲染效果一致 | P0 |
| TC-ML-011 | 日文导出 → 中文导入 | 日文环境创建任务并导出 | 同TC-ML-005 | 枚举值显示为中文，渲染一致 | P0 |
| TC-ML-012 | 日文导出 → 英文导入 | 日文环境创建任务并导出 | 同TC-ML-005 | 枚举值显示为英文，渲染一致 | P0 |
| TC-ML-013 | 日文导出 → 韩文导入 | 日文环境创建任务并导出 | 同TC-ML-005 | 枚举值显示为韩文，渲染一致 | P0 |
| TC-ML-014 | 韩文导出 → 中文导入 | 韩文环境创建任务并导出 | 同TC-ML-005 | 枚举值显示为中文，渲染一致 | P0 |
| TC-ML-015 | 韩文导出 → 英文导入 | 韩文环境创建任务并导出 | 同TC-ML-005 | 枚举值显示为英文，渲染一致 | P0 |
| TC-ML-016 | 韩文导出 → 日文导入 | 韩文环境创建任务并导出 | 同TC-ML-005 | 枚举值显示为日文，渲染一致 | P0 |

#### 5.3.3 视觉渲染细节验证
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-ML-V01 | 任务条颜色一致性 | 各语言环境下相同优先级任务 | 1. 分别在四语言创建high优先级任务<br>2. 导出导入后检查任务条颜色 | 相同优先级任务条颜色在各语言下一致 | P1 |
| TC-ML-V02 | 进度条渲染一致性 | 50%进度任务 | 导出导入后检查进度条长度 | 进度条长度与进度值匹配（50%位置） | P1 |
| TC-ML-V03 | 层级缩进一致性 | 3层嵌套任务 | 导出导入后检查左侧层级缩进 | 子任务缩进量与导入前一致 | P1 |
| TC-ML-V04 | 日期时间轴对齐 | 固定日期任务（2023-06-15） | 导出导入后检查任务条水平位置 | 任务条起始位置与时间轴刻度对齐正确 | P1 |
| TC-ML-V05 | 工具栏语言切换 | 页面已加载 | 依次切换四种语言 | 1. 工具栏按钮文字正确本地化<br>2. "今日"按钮分别显示：今天/Today/今日/오늘 | P1 |

#### 5.3.4 特殊字符多语言测试
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-ML-S01 | 中日韩混合任务名 | 任务名包含"项目α-プロジェクト-프로젝트" | 在四语言环境下导出导入 | 所有字符正确保留，无乱码 | P0 |
| TC-ML-S02 | Emoji任务名多语言 | 任务名包含"🎯任务🚀Task✅" | 在四语言环境下导出导入 | Emoji正确显示，不丢失 | P1 |
| TC-ML-S03 | 长文本负责人名 | 负责人名为各语言长名字 | 各语言导出导入 | 名字完整保留，列宽自适应 | P2 |

### 5.4 测试数据（多语言版本）
```javascript
// 多语言测试数据集
const multiLangTestData = {
    data: [
        {
            id: 1,
            text: "多语言项目 - Multilingual - 多言語 - 다국어",
            start_date: "2023-06-01",
            duration: 10,
            progress: 0.3,
            priority: "high",
            status: "in_progress",
            assignee: "张三/John/田中/김철수",
            open: true
        },
        {
            id: 2,
            text: "子任务🎯Subtask",
            start_date: "2023-06-03",
            duration: 5,
            progress: 0.5,
            priority: "medium",
            status: "in_progress",
            parent: 1
        },
        {
            id: 3,
            text: "已完成タスク완료",
            start_date: "2023-06-05",
            duration: 2,
            progress: 1.0,
            priority: "low",
            status: "completed",
            parent: 2
        },
        {
            id: 4,
            text: "待开始任务",
            start_date: "2023-06-20",
            duration: 7,
            progress: 0,
            priority: "high",
            status: "pending"
        }
    ]
};
```

### 5.5 验证矩阵
下表展示所有跨语言导入组合的测试覆盖：

| 导出语言 ↓ / 导入语言 → | zh-CN | en-US | ja-JP | ko-KR |
|:-----------------------:|:-----:|:-----:|:-----:|:-----:|
| zh-CN | TC-ML-001 | TC-ML-005 | TC-ML-006 | TC-ML-007 |
| en-US | TC-ML-008 | TC-ML-002 | TC-ML-009 | TC-ML-010 |
| ja-JP | TC-ML-011 | TC-ML-012 | TC-ML-003 | TC-ML-013 |
| ko-KR | TC-ML-014 | TC-ML-015 | TC-ML-016 | TC-ML-004 |

**覆盖范围**：4×4 = 16 个语言组合，全部覆盖

---

## 6. 本地化细节测试 (Localization Detail Tests)

### 6.1 测试背景
通过代码审查发现以下本地化遗漏风险点，需要专项测试验证：

**风险点清单**：
| 风险编号 | 位置 | 问题描述 | 严重程度 |
|:--------:|:----:|:--------:|:--------:|
| L-001 | zoom.js | ZOOM_LEVELS.name 硬编码中文 | 🔴 高 |
| L-002 | zoom.js | scales format函数日期格式硬编码中文 | 🔴 高 |
| L-003 | index.html | 快捷键面板标题/内容硬编码中文 | 🔴 高 |
| L-004 | index.html | 图例面板内容硬编码中文 | 🔴 高 |
| L-005 | index.html | 视图选择器option初始文本硬编码 | 🟡 中 |
| L-006 | index.html | 页面title硬编码中文 | 🟡 中 |
| L-007 | columns.js | 列名默认值硬编码中文 | 🟢 低 |

### 6.2 缩放控件本地化测试

#### 6.2.1 视图选择器下拉选项本地化
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-001 | 视图选择器-中文本地化 | 语言设置为zh-CN | 1. 打开甘特图页面<br>2. 点击视图选择器下拉框<br>3. 检查所有选项文本 | 选项显示：日视图、周视图、月视图、季度视图、年视图 | P0 |
| TC-L-002 | 视图选择器-英文本地化 | 语言设置为en-US | 1. 切换到英文<br>2. 点击视图选择器下拉框 | 选项显示：Day、Week、Month、Quarter、Year | P0 |
| TC-L-003 | 视图选择器-日文本地化 | 语言设置为ja-JP | 1. 切换到日文<br>2. 点击视图选择器下拉框 | 选项显示：日、週、月、四半期、年 | P0 |
| TC-L-004 | 视图选择器-韩文本地化 | 语言设置为ko-KR | 1. 切换到韩文<br>2. 点击视图选择器下拉框 | 选项显示：일、주、월、분기、년 | P0 |
| TC-L-005 | 视图选择器-语言动态切换 | 页面已加载 | 1. 英文环境下打开下拉框<br>2. 切换到中文<br>3. 再次打开下拉框 | 选项文本实时更新为中文 | P0 |

#### 6.2.2 时间轴刻度本地化
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-010 | 日视图刻度-中文 | 语言zh-CN，日视图 | 检查时间轴顶部刻度 | 显示"X月X日 - X月X日"和"X日 周X" | P0 |
| TC-L-011 | 日视图刻度-英文 | 语言en-US，日视图 | 检查时间轴顶部刻度 | 显示"Jan 1 - Jan 7"和"1 Mon"格式 | P0 |
| TC-L-012 | 日视图刻度-日文 | 语言ja-JP，日视图 | 检查时间轴顶部刻度 | 显示"X月X日 - X月X日"和"X日 X曜日" | P0 |
| TC-L-013 | 日视图刻度-韩文 | 语言ko-KR，日视图 | 检查时间轴顶部刻度 | 显示"X월 X일 - X월 X일"格式 | P0 |
| TC-L-014 | 周视图刻度本地化 | 各语言环境，周视图 | 检查月份和日期显示 | 月份格式符合各语言习惯 | P0 |
| TC-L-015 | 月视图刻度本地化 | 各语言环境，月视图 | 检查年份和月份显示 | 年份格式：中日"XXXX年"，英"XXXX"，韩"XXXX년" | P0 |
| TC-L-016 | 季度视图刻度本地化 | 各语言环境，季度视图 | 检查季度标识 | 四语言均显示"Q1/Q2/Q3/Q4"（国际通用） | P1 |
| TC-L-017 | 年视图刻度本地化 | 各语言环境，年视图 | 检查年份显示 | 年份格式符合各语言习惯 | P1 |

#### 6.2.3 缩放按钮提示本地化
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-020 | 缩放+按钮title-中文 | 语言zh-CN | hover缩放+按钮 | 提示"扩大时间跨度" | P1 |
| TC-L-021 | 缩放+按钮title-英文 | 语言en-US | hover缩放+按钮 | 提示"Zoom In" | P1 |
| TC-L-022 | 缩放-按钮title-中文 | 语言zh-CN | hover缩放-按钮 | 提示"缩小时间跨度" | P1 |
| TC-L-023 | 缩放-按钮title-英文 | 语言en-US | hover缩放-按钮 | 提示"Zoom Out" | P1 |

### 6.3 快捷键面板本地化测试

#### 6.3.1 面板标题本地化
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-030 | 快捷键面板标题-中文 | 语言zh-CN | 展开快捷键面板 | 标题显示"快捷键 & 图例" | P0 |
| TC-L-031 | 快捷键面板标题-英文 | 语言en-US | 展开快捷键面板 | 标题显示"Shortcuts & Legend" | P0 |
| TC-L-032 | 快捷键面板标题-日文 | 语言ja-JP | 展开快捷键面板 | 标题显示"ショートカット & 凡例" | P0 |
| TC-L-033 | 快捷键面板标题-韩文 | 语言ko-KR | 展开快捷键面板 | 标题显示"단축키 & 범례" | P0 |

#### 6.3.2 导航快捷键说明本地化
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-034 | 导航分类标题-四语言 | 各语言环境 | 检查"导航"分类标题 | 中"导航"/英"Navigation"/日"ナビゲーション"/韩"탐색" | P0 |
| TC-L-035 | 平移视图说明-四语言 | 各语言环境 | 检查平移视图操作说明 | 中"平移视图"/英"Pan View"/日"ビューをパン"/韩"뷰 이동" | P0 |
| TC-L-036 | 缩放时间轴说明-四语言 | 各语言环境 | 检查缩放说明 | 中"缩放时间轴"/英"Zoom Timeline"/日"タイムラインをズーム"/韩"타임라인 확대/축소" | P0 |
| TC-L-037 | 回到今天说明-四语言 | 各语言环境 | 检查回到今天说明 | 中"回到今天"/英"Go to Today"/日"今日に移動"/韩"오늘로 이동" | P0 |
| TC-L-038 | 拖动提示-四语言 | 各语言环境 | 检查"拖动"关键词 | 中"拖动"/英"Drag"/日"ドラッグ"/韩"드래그" | P0 |
| TC-L-039 | 滚轮提示-四语言 | 各语言环境 | 检查"滚轮"关键词 | 中"滚轮"/英"Scroll"/日"スクロール"/韩"스크롤" | P0 |
| TC-L-040 | 点击今天按钮-四语言 | 各语言环境 | 检查点击今天提示 | 中"点击'今天'按钮"/英"Click 'Today'"/日「今日」をクリック/韩"오늘" 클릭 | P0 |

#### 6.3.3 任务操作说明本地化
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-041 | 任务操作分类-四语言 | 各语言环境 | 检查"任务操作"分类标题 | 中"任务操作"/英"Task Operations"/日"タスク操作"/韩"작업 조작" | P0 |
| TC-L-042 | 编辑任务说明-四语言 | 各语言环境 | 检查编辑任务说明 | 中"编辑任务"/英"Edit Task"/日"タスク編集"/韩"작업 편집" | P0 |
| TC-L-043 | 双击提示-四语言 | 各语言环境 | 检查"双击"关键词 | 中"双击"/英"Double Click"/日"ダブルクリック"/韩"더블 클릭" | P0 |
| TC-L-044 | 调整时间说明-四语言 | 各语言环境 | 检查调整时间说明 | 中"调整时间"/英"Adjust Time"/日"時間調整"/韩"시간 조정" | P0 |
| TC-L-045 | 拖动任务条-四语言 | 各语言环境 | 检查拖动任务条说明 | 中"拖动任务条"/英"Drag Task Bar"/日"タスクバーをドラッグ"/韩"작업 바 드래그" | P0 |
| TC-L-046 | 调整进度说明-四语言 | 各语言环境 | 检查调整进度说明 | 中"调整进度"/英"Adjust Progress"/日"進捗調整"/韩"진행률 조정" | P0 |
| TC-L-047 | 拖动进度条-四语言 | 各语言环境 | 检查拖动进度条说明 | 中"拖动进度条"/英"Drag Progress Bar"/日"進捗バーをドラッグ"/韩"진행률 바 드래그" | P0 |

### 6.4 图例面板本地化测试

| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-050 | 图例分类标题-四语言 | 各语言环境 | 检查"图例"分类标题 | 中"图例"/英"Legend"/日"凡例"/韩"범례" | P0 |
| TC-L-051 | 已完成图例-四语言 | 各语言环境 | 检查已完成图例文字 | 中"已完成"/英"Completed"/日"完了"/韩"완료" | P0 |
| TC-L-052 | 未完成图例-四语言 | 各语言环境 | 检查未完成图例文字 | 中"未完成"/英"Incomplete"/日"未完了"/韩"미완료" | P0 |
| TC-L-053 | 依赖关系图例-四语言 | 各语言环境 | 检查依赖关系图例文字 | 中"依赖关系"/英"Dependency"/日"依存関係"/韩"종속성" | P0 |

### 6.5 工具栏按钮本地化测试

| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-060 | 今日按钮-四语言 | 各语言环境 | 检查"今日"按钮文字 | 中"今天"/英"Today"/日"今日"/韩"오늘" | P0 |
| TC-L-061 | 新建任务按钮-四语言 | 各语言环境 | 检查新建任务按钮 | 中"新建任务"/英"New Task"/日"新規タスク"/韩"새 작업" | P0 |
| TC-L-062 | 更多按钮-四语言 | 各语言环境 | 检查"更多"按钮 | 中"更多"/英"More"/日"もっと"/韩"더보기" | P0 |
| TC-L-063 | 编辑字段按钮title-四语言 | 各语言环境 | hover编辑字段图标 | 显示对应语言的"编辑字段"提示 | P1 |
| TC-L-064 | 批量编辑按钮title-四语言 | 各语言环境 | hover批量编辑图标 | 显示对应语言的"批量编辑"提示 | P1 |
| TC-L-065 | 导出按钮title-四语言 | 各语言环境 | hover导出图标 | 显示对应语言的"导出"提示 | P1 |

### 6.6 下拉菜单本地化测试

| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-070 | 导出Excel菜单项-四语言 | 各语言环境 | 打开More下拉菜单 | 中"导出Excel"/英"Export Excel"/日"Excel出力"/韩"Excel 내보내기" | P0 |
| TC-L-071 | 导入Excel菜单项-四语言 | 各语言环境 | 打开More下拉菜单 | 中"导入Excel"/英"Import Excel"/日"Excelインポート"/韩"Excel 가져오기" | P0 |
| TC-L-072 | 导出JSON菜单项-四语言 | 各语言环境 | 打开More下拉菜单 | 中"导出JSON"/英"Export JSON"/日"JSON出力"/韩"JSON 내보내기" | P0 |
| TC-L-073 | 导入JSON菜单项-四语言 | 各语言环境 | 打开More下拉菜单 | 中"导入JSON"/英"Import JSON"/日"JSONインポート"/韩"JSON 가져오기" | P0 |
| TC-L-074 | 语言菜单项-四语言 | 各语言环境 | 打开More下拉菜单 | 中"语言"/英"Language"/日"言語"/韩"언어" | P0 |

### 6.7 搜索框本地化测试

| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-080 | 搜索框placeholder-中文 | 语言zh-CN | 检查搜索框占位符 | 显示"搜索任务..." | P1 |
| TC-L-081 | 搜索框placeholder-英文 | 语言en-US | 检查搜索框占位符 | 显示"Search tasks..." | P1 |
| TC-L-082 | 搜索框placeholder-日文 | 语言ja-JP | 检查搜索框占位符 | 显示"タスクを検索..." | P1 |
| TC-L-083 | 搜索框placeholder-韩文 | 语言ko-KR | 检查搜索框占位符 | 显示"작업 검색..." | P1 |

### 6.8 页面元信息本地化测试

| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-090 | 页面title本地化-中文 | 语言zh-CN | 检查浏览器标签页标题 | 显示中文页面标题 | P2 |
| TC-L-091 | 页面title本地化-英文 | 语言en-US | 检查浏览器标签页标题 | 显示英文页面标题 | P2 |
| TC-L-092 | HTML lang属性动态更新 | 切换语言 | 检查html标签lang属性 | 属性值随语言切换更新 | P2 |

### 6.9 语言切换边界测试

| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-L-100 | 快速语言切换 | 页面已加载 | 快速连续切换4种语言 | 所有UI元素正确更新，无残留旧语言文本 | P0 |
| TC-L-101 | 带数据的语言切换 | 已创建多个任务 | 切换语言后检查甘特图 | 任务数据不受影响，枚举值显示正确本地化 | P0 |
| TC-L-102 | 弹窗打开时切换语言 | 打开lightbox弹窗 | 切换语言 | 弹窗内文本正确更新或关闭后重开显示正确 | P1 |
| TC-L-103 | 下拉菜单展开时切换 | 展开More下拉菜单 | 切换语言 | 菜单项文本实时更新 | P1 |
| TC-L-104 | 批量编辑面板本地化 | 打开批量编辑面板 | 检查所有文本元素 | 标题、字段标签、按钮文本均已本地化 | P0 |
| TC-L-105 | 字段管理面板本地化 | 打开字段管理面板 | 检查所有文本元素 | 标题、类型选项、按钮文本均已本地化 | P0 |

### 6.10 已知本地化缺陷验证

> 以下用例用于验证代码审查中发现的硬编码问题是否已修复

| 用例编号 | 用例名称 | 关联风险 | 测试步骤 | 预期结果 | 状态 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:----:|
| TC-L-D01 | zoom.js视图名称本地化 | L-001 | 英文环境调用getCurrentLevelName() | 返回"Week"而非"周视图" | 待测 |
| TC-L-D02 | zoom.js日期格式本地化 | L-002 | 英文环境切换到日视图查看刻度 | 日期格式为英文（Jan 1等）而非中文 | 待测 |
| TC-L-D03 | 快捷键面板静态文本 | L-003 | 英文环境展开快捷键面板 | 无残留中文 | 待测 |
| TC-L-D04 | 图例面板静态文本 | L-004 | 英文环境查看图例 | 显示"Completed"等英文 | 待测 |
| TC-L-D05 | option标签初始文本 | L-005 | 页面首次加载（英文浏览器） | option显示英文而非中文 | 待测 |

### 6.11 测试数据与验证方法

#### 6.11.1 自动化验证脚本示例
```javascript
// 验证元素文本本地化
async function verifyLocalization(page, selector, expectedTexts) {
    const languages = ['zh-CN', 'en-US', 'ja-JP', 'ko-KR'];
    const results = [];

    for (let i = 0; i < languages.length; i++) {
        await page.evaluate((lang) => window.i18n.setLanguage(lang), languages[i]);
        await page.waitForTimeout(500); // 等待DOM更新

        const actualText = await page.locator(selector).textContent();
        const expected = expectedTexts[i];

        results.push({
            language: languages[i],
            expected: expected,
            actual: actualText.trim(),
            pass: actualText.trim() === expected
        });
    }

    return results;
}
```

#### 6.11.2 本地化验证矩阵
| 组件 | zh-CN | en-US | ja-JP | ko-KR |
|:----:|:-----:|:-----:|:-----:|:-----:|
| 今日按钮 | 今天 | Today | 今日 | 오늘 |
| 新建任务 | 新建任务 | New Task | 新規タスク | 새 작업 |
| 更多 | 更多 | More | もっと | 더보기 |
| 图例-已完成 | 已完成 | Completed | 完了 | 완료 |
| 图例-未完成 | 未完成 | Incomplete | 未完了 | 미완료 |
| 导航 | 导航 | Navigation | ナビゲーション | 탐색 |
| 日视图 | 日视图 | Day | 日 | 일 |
| 周视图 | 周视图 | Week | 週 | 주 |
| 月视图 | 月视图 | Month | 月 | 월 |
