# 测试用例文档（Test Case Document）

## 1. 测试概述
- **测试对象**：甘特图工具栏优化与国际化
- **需求来源**：[PRD-甘特图工具栏优化与国际化-需求分析阶段.md](../prd/PRD-甘特图工具栏优化与国际化-需求分析阶段.md)
- **测试目标**：验证工具栏UI更新、国际化功能、快捷键面板状态、Excel导出验证及Bug修复。
- **测试范围**：工具栏、快捷键面板、图例面板、多语言切换、Excel导入导出、新建任务弹窗、Toast提示。

## 2. 测试环境
- **浏览器**：Chrome / Chromium (Playwright)
- **分辨率**：1920x1080
- **依赖条件**：本地开发服务器已启动 (npm run dev)

## 3. 测试用例

### 3.1 功能测试 (UI & Interaction)
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-UI-001 | 快捷键/图例面板默认隐藏 | 页面初次加载 | 1. 访问甘特图主页<br>2. 检查快捷键面板和图例 | 两个面板均处于折叠/隐藏状态 | P1 |
| TC-UI-002 | 面板展开与折叠 | 页面加载完成 | 1. 点击快捷键面板标题<br>2. 再次点击 | 1. 面板展开<br>2. 面板折叠 | P1 |
| TC-UI-003 | 工具栏布局验证 | 页面加载完成 | 1. 检查左侧视图选择/日期<br>2. 检查中间搜索框<br>3. 检查右侧按钮组 | 布局符合 Figma 设计，"编辑模式"显示为"批量编辑" | P0 |
| TC-UI-004 | 新建任务按钮 | - | 1. 检查"New Task"按钮样式 | 紫色背景，白色文字 | P1 |

### 3.2 国际化 (I18n)
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-I18N-001 | 默认语言检测 | 浏览器语言设为中文 | 1. 加载页面 | 界面显示简体中文 | P1 |
| TC-I18N-002 | 切换语言至英文 | 当前为中文 | 1. 点击"更多"<br>2. 选择"Language" -> "English" | 界面文本变为英文，日期格式变为 MM/DD/YYYY | P0 |
| TC-I18N-003 | 切换语言至日文 | 当前为中文 | 1. 点击"更多"<br>2. 选择"语言/Language" -> "日本語" | 界面文本变为日文，格式正确 | P1 |
| TC-I18N-004 | 切换语言至韩文 | 当前为中文 | 1. 点击"更多"<br>2. 选择"语言/Language" -> "한국어" | 界面文本变为韩文，格式正确 | P1 |
| TC-I18N-005 | 日期格式本地化 | 切换不同语言 | 1. 观察甘特图时间轴日期格式 | 符合各语言习惯 (如 YYYY年MM月DD日 vs MM/DD/YYYY) | P1 |

### 3.3 Excel 导入导出
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-EXCEL-001 | 导出 Excel 验证 | - | 1. 点击导出按钮<br>2. 下载文件 | 下载成功 (需人工/单元测试验证下拉验证数据) | P1 |
| TC-EXCEL-002 | 导入 Excel 适配 | 准备符合新格式的Excel | 1. 点击导入按钮<br>2. 选择文件 | 数据正确导入，无报错 | P1 |

### 3.4 Bug 修复
| 用例编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| TC-BUG-001 | 新增任务关闭无校验 | - | 1. 点击"New Task"<br>2. 不输入内容<br>3. 点击弹窗"X"关闭 | 弹窗直接关闭，不显示"必填"校验提示 | P0 |
| TC-BUG-002 | 异常提示自动消失 | - | 1. 触发一个错误 Toast (如导入非法文件或模拟错误)<br>2. 等待 3 秒 | Toast 提示在约 3 秒后自动消失 | P0 |

## 4. 测试数据
- **正常数据**：标准任务数据，标准 Excel 模板
- **边界数据**：超长任务名，特殊字符
- **异常数据**：格式错误的 Excel 文件
